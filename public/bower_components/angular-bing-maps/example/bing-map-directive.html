<!DOCTYPE HTML>
<html>
    <head>
        <script charset="UTF-8" type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular.js"></script>

        <script src="../dist/angular-bing-maps.js"></script>

        <script type="text/javascript">
            var app = angular.module('angularBingMapExample', ['angularBingMaps']);
            
            app.config(['angularBingMapsProvider', function(angularBingMapsProvider) {
                angularBingMapsProvider.setDefaultMapOptions({
                    credentials: 'AkaxzD5YOJCbIvziHVOLfm6AkeM5Z5UQ3dHS53mQzwK-6LGWnxYjAwNqfe3D4UBT',
                    enableClickableLogo: false
                });
                angularBingMapsProvider.bindCenterRealtime(false);
            }]);
            
            app.controller('ExampleController', 
            ['$scope', '$http', '$timeout', function($scope, $http, $timeout) {
                /*<bing-map> directive options*/
            	$scope.mapOptions = {
            		center: { latitude: 30.614919, longitude: -96.342316},
            		zoom: 6,
            		mapType: 'a',
            		options: {
            			//disablePanning: true,
            			//disableZooming:true
            		}
            	};
                $scope.onMapReady = function(map) {
                    //This will return (0,0) because we havn't set the center yet
                    console.log('Map loaded with center:' + map.getCenter());
                }
            }]);
        </script>

        <style type="text/css">
            bing-map {
                height: 100%;
                width: 100%;
            }
        </style>

    </head>
    <body ng-app="angularBingMapExample" ng-strict-di>
        <div class="bing-map-container" ng-controller="ExampleController">
            <h1>{{mapOptions.center}}</h1>
            <bing-map
                center="mapOptions.center"
                zoom="mapOptions.zoom"
                map-type="mapOptions.mapType"
                options="mapOptions.options"
                on-map-ready="onMapReady(map)">
            </bing-map>

        </div>

    </body>
</html>
